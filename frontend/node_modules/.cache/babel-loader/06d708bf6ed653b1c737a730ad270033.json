{"ast":null,"code":"import React,{Fragment,useEffect,useState}from\"react\";import\"./Products.css\";import{useSelector,useDispatch}from\"react-redux\";import{clearErrors,getProduct}from\"../../actions/productAction\";import Loader from\"../layout/Loader/Loader\";import ProductCard from\"../Home/ProductCard\";import Pagination from\"react-js-pagination\";import Slider from\"@material-ui/core/Slider\";import{useAlert}from\"react-alert\";import Typography from\"@material-ui/core/Typography\";import MetaData from\"../layout/MetaData\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const categories=[\"Laptop\",\"Footwear\",\"Bottom\",\"Tops\",\"Attire\",\"Camera\",\"SmartPhones\"];const Products=_ref=>{let{match}=_ref;const dispatch=useDispatch();const alert=useAlert();const[currentPage,setCurrentPage]=useState(1);const[price,setPrice]=useState([0,25000]);const[category,setCategory]=useState(\"\");const[ratings,setRatings]=useState(0);const{products,loading,error,productsCount,resultPerPage,filteredProductsCount}=useSelector(state=>state.products);//  console.log(filteredProductsCount);\nconst keyword=match.params.keyword;const setCurrentPageNo=e=>{setCurrentPage(e);};const priceHandler=(event,newPrice)=>{setPrice(newPrice);};let count=filteredProductsCount;useEffect(()=>{if(error){alert.error(error);dispatch(clearErrors());}dispatch(getProduct(keyword,currentPage,price,category,ratings));},[dispatch,keyword,currentPage,price,category,ratings,alert,error]);return/*#__PURE__*/_jsx(Fragment,{children:loading?/*#__PURE__*/_jsx(Loader,{}):/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(MetaData,{title:\"PRODUCTS -- ECOMMERCE\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"productsHeading\",children:\"Products\"}),/*#__PURE__*/_jsx(\"div\",{className:\"products\",children:products&&products.map(product=>/*#__PURE__*/_jsx(ProductCard,{product:product},product._id))}),/*#__PURE__*/_jsxs(\"div\",{className:\"filterBox\",children:[/*#__PURE__*/_jsx(Typography,{children:\"Price\"}),/*#__PURE__*/_jsx(Slider,{value:price,onChange:priceHandler,valueLabelDisplay:\"auto\",\"aria-labelledby\":\"range-slider\",min:0,max:25000}),/*#__PURE__*/_jsx(Typography,{children:\"Categories\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"categoryBox\",children:categories.map(category=>/*#__PURE__*/_jsx(\"li\",{className:\"category-link\",onClick:()=>setCategory(category),children:category},category))}),/*#__PURE__*/_jsxs(\"fieldset\",{children:[/*#__PURE__*/_jsx(Typography,{component:\"legend\",children:\"Ratings Above\"}),/*#__PURE__*/_jsx(Slider,{value:ratings,onChange:(e,newRating)=>{setRatings(newRating);},\"aria-labelledby\":\"continuous-slider\",valueLabelDisplay:\"auto\",min:0,max:5})]})]}),resultPerPage<count&&/*#__PURE__*/_jsx(\"div\",{className:\"paginationBox\",children:/*#__PURE__*/_jsx(Pagination,{activePage:currentPage,itemsCountPerPage:resultPerPage,totalItemsCount:productsCount,onChange:setCurrentPageNo,nextPageText:\"Next\",prevPageText:\"Prev\",firstPageText:\"1st\",lastPageText:\"Last\",itemClass:\"page-item\",linkClass:\"page-link\",activeClass:\"pageItemActive\",activeLinkClass:\"pageLinkActive\"})})]})});};export default Products;","map":{"version":3,"names":["React","Fragment","useEffect","useState","useSelector","useDispatch","clearErrors","getProduct","Loader","ProductCard","Pagination","Slider","useAlert","Typography","MetaData","jsx","_jsx","jsxs","_jsxs","categories","Products","_ref","match","dispatch","alert","currentPage","setCurrentPage","price","setPrice","category","setCategory","ratings","setRatings","products","loading","error","productsCount","resultPerPage","filteredProductsCount","state","keyword","params","setCurrentPageNo","e","priceHandler","event","newPrice","count","children","title","className","map","product","_id","value","onChange","valueLabelDisplay","min","max","onClick","component","newRating","activePage","itemsCountPerPage","totalItemsCount","nextPageText","prevPageText","firstPageText","lastPageText","itemClass","linkClass","activeClass","activeLinkClass"],"sources":["C:/Users/SANKET TAVETHIYA/Desktop/MERN PRO/frontend/src/component/Product/Products.js"],"sourcesContent":["import React, { Fragment, useEffect, useState } from \"react\";\nimport \"./Products.css\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { clearErrors, getProduct } from \"../../actions/productAction\";\nimport Loader from \"../layout/Loader/Loader\";\nimport ProductCard from \"../Home/ProductCard\";\nimport Pagination from \"react-js-pagination\";\nimport Slider from \"@material-ui/core/Slider\";\nimport { useAlert } from \"react-alert\";\nimport Typography from \"@material-ui/core/Typography\";\nimport MetaData from \"../layout/MetaData\";\n\nconst categories = [\n  \"Laptop\",\n  \"Footwear\",\n  \"Bottom\",\n  \"Tops\",\n  \"Attire\",\n  \"Camera\",\n  \"SmartPhones\",\n];\n\nconst Products = ({ match }) => {\n  const dispatch = useDispatch();\n\n  const alert = useAlert();\n\n  const [currentPage, setCurrentPage] = useState(1);\n  const [price, setPrice] = useState([0, 25000]);\n  const [category, setCategory] = useState(\"\");\n\n  const [ratings, setRatings] = useState(0);\n\n  const {\n    products,\n    loading,\n    error,\n    productsCount,\n    resultPerPage,\n    filteredProductsCount,\n  } = useSelector((state) => state.products);\n  //  console.log(filteredProductsCount);\n  const keyword = match.params.keyword;\n\n  const setCurrentPageNo = (e) => {\n    setCurrentPage(e);\n  };\n\n  const priceHandler = (event, newPrice) => {\n    setPrice(newPrice);\n  };\n  let count = filteredProductsCount;\n\n  useEffect(() => {\n    if (error) {\n      alert.error(error);\n      dispatch(clearErrors());\n    }\n\n    dispatch(getProduct(keyword, currentPage, price, category, ratings));\n  }, [dispatch, keyword, currentPage, price, category, ratings, alert, error]);\n\n  return (\n    <Fragment>\n      {loading ? (\n        <Loader />\n      ) : (\n        <Fragment>\n          <MetaData title=\"PRODUCTS -- ECOMMERCE\" />\n          <h2 className=\"productsHeading\">Products</h2>\n\n          <div className=\"products\">\n            {products &&\n              products.map((product) => (\n                <ProductCard key={product._id} product={product} />\n              ))}\n          </div>\n\n          <div className=\"filterBox\">\n            <Typography>Price</Typography>\n            <Slider\n              value={price}\n              onChange={priceHandler}\n              valueLabelDisplay=\"auto\"\n              aria-labelledby=\"range-slider\"\n              min={0}\n              max={25000}\n            />\n\n            <Typography>Categories</Typography>\n            <ul className=\"categoryBox\">\n              {categories.map((category) => (\n                <li\n                  className=\"category-link\"\n                  key={category}\n                  onClick={() => setCategory(category)}\n                >\n                  {category}\n                </li>\n              ))}\n            </ul>\n\n            <fieldset>\n              <Typography component=\"legend\">Ratings Above</Typography>\n              <Slider\n                value={ratings}\n                onChange={(e, newRating) => {\n                  setRatings(newRating);\n                }}\n                aria-labelledby=\"continuous-slider\"\n                valueLabelDisplay=\"auto\"\n                min={0}\n                max={5}\n              />\n            </fieldset>\n          </div>\n          {resultPerPage < count && (\n            <div className=\"paginationBox\">\n              <Pagination\n                activePage={currentPage}\n                itemsCountPerPage={resultPerPage}\n                totalItemsCount={productsCount}\n                onChange={setCurrentPageNo}\n                nextPageText=\"Next\"\n                prevPageText=\"Prev\"\n                firstPageText=\"1st\"\n                lastPageText=\"Last\"\n                itemClass=\"page-item\"\n                linkClass=\"page-link\"\n                activeClass=\"pageItemActive\"\n                activeLinkClass=\"pageLinkActive\"\n              />\n            </div>\n          )}\n        </Fragment>\n      )}\n    </Fragment>\n  );\n};\n\nexport default Products;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC5D,MAAO,gBAAgB,CACvB,OAASC,WAAW,CAAEC,WAAW,KAAQ,aAAa,CACtD,OAASC,WAAW,CAAEC,UAAU,KAAQ,6BAA6B,CACrE,MAAO,CAAAC,MAAM,KAAM,yBAAyB,CAC5C,MAAO,CAAAC,WAAW,KAAM,qBAAqB,CAC7C,MAAO,CAAAC,UAAU,KAAM,qBAAqB,CAC5C,MAAO,CAAAC,MAAM,KAAM,0BAA0B,CAC7C,OAASC,QAAQ,KAAQ,aAAa,CACtC,MAAO,CAAAC,UAAU,KAAM,8BAA8B,CACrD,MAAO,CAAAC,QAAQ,KAAM,oBAAoB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE1C,KAAM,CAAAC,UAAU,CAAG,CACjB,QAAQ,CACR,UAAU,CACV,QAAQ,CACR,MAAM,CACN,QAAQ,CACR,QAAQ,CACR,aAAa,CACd,CAED,KAAM,CAAAC,QAAQ,CAAGC,IAAA,EAAe,IAAd,CAAEC,KAAM,CAAC,CAAAD,IAAA,CACzB,KAAM,CAAAE,QAAQ,CAAGlB,WAAW,CAAC,CAAC,CAE9B,KAAM,CAAAmB,KAAK,CAAGZ,QAAQ,CAAC,CAAC,CAExB,KAAM,CAACa,WAAW,CAAEC,cAAc,CAAC,CAAGvB,QAAQ,CAAC,CAAC,CAAC,CACjD,KAAM,CAACwB,KAAK,CAAEC,QAAQ,CAAC,CAAGzB,QAAQ,CAAC,CAAC,CAAC,CAAE,KAAK,CAAC,CAAC,CAC9C,KAAM,CAAC0B,QAAQ,CAAEC,WAAW,CAAC,CAAG3B,QAAQ,CAAC,EAAE,CAAC,CAE5C,KAAM,CAAC4B,OAAO,CAAEC,UAAU,CAAC,CAAG7B,QAAQ,CAAC,CAAC,CAAC,CAEzC,KAAM,CACJ8B,QAAQ,CACRC,OAAO,CACPC,KAAK,CACLC,aAAa,CACbC,aAAa,CACbC,qBACF,CAAC,CAAGlC,WAAW,CAAEmC,KAAK,EAAKA,KAAK,CAACN,QAAQ,CAAC,CAC1C;AACA,KAAM,CAAAO,OAAO,CAAGlB,KAAK,CAACmB,MAAM,CAACD,OAAO,CAEpC,KAAM,CAAAE,gBAAgB,CAAIC,CAAC,EAAK,CAC9BjB,cAAc,CAACiB,CAAC,CAAC,CACnB,CAAC,CAED,KAAM,CAAAC,YAAY,CAAGA,CAACC,KAAK,CAAEC,QAAQ,GAAK,CACxClB,QAAQ,CAACkB,QAAQ,CAAC,CACpB,CAAC,CACD,GAAI,CAAAC,KAAK,CAAGT,qBAAqB,CAEjCpC,SAAS,CAAC,IAAM,CACd,GAAIiC,KAAK,CAAE,CACTX,KAAK,CAACW,KAAK,CAACA,KAAK,CAAC,CAClBZ,QAAQ,CAACjB,WAAW,CAAC,CAAC,CAAC,CACzB,CAEAiB,QAAQ,CAAChB,UAAU,CAACiC,OAAO,CAAEf,WAAW,CAAEE,KAAK,CAAEE,QAAQ,CAAEE,OAAO,CAAC,CAAC,CACtE,CAAC,CAAE,CAACR,QAAQ,CAAEiB,OAAO,CAAEf,WAAW,CAAEE,KAAK,CAAEE,QAAQ,CAAEE,OAAO,CAAEP,KAAK,CAAEW,KAAK,CAAC,CAAC,CAE5E,mBACEnB,IAAA,CAACf,QAAQ,EAAA+C,QAAA,CACNd,OAAO,cACNlB,IAAA,CAACR,MAAM,GAAE,CAAC,cAEVU,KAAA,CAACjB,QAAQ,EAAA+C,QAAA,eACPhC,IAAA,CAACF,QAAQ,EAACmC,KAAK,CAAC,uBAAuB,CAAE,CAAC,cAC1CjC,IAAA,OAAIkC,SAAS,CAAC,iBAAiB,CAAAF,QAAA,CAAC,UAAQ,CAAI,CAAC,cAE7ChC,IAAA,QAAKkC,SAAS,CAAC,UAAU,CAAAF,QAAA,CACtBf,QAAQ,EACPA,QAAQ,CAACkB,GAAG,CAAEC,OAAO,eACnBpC,IAAA,CAACP,WAAW,EAAmB2C,OAAO,CAAEA,OAAQ,EAA9BA,OAAO,CAACC,GAAwB,CACnD,CAAC,CACD,CAAC,cAENnC,KAAA,QAAKgC,SAAS,CAAC,WAAW,CAAAF,QAAA,eACxBhC,IAAA,CAACH,UAAU,EAAAmC,QAAA,CAAC,OAAK,CAAY,CAAC,cAC9BhC,IAAA,CAACL,MAAM,EACL2C,KAAK,CAAE3B,KAAM,CACb4B,QAAQ,CAAEX,YAAa,CACvBY,iBAAiB,CAAC,MAAM,CACxB,kBAAgB,cAAc,CAC9BC,GAAG,CAAE,CAAE,CACPC,GAAG,CAAE,KAAM,CACZ,CAAC,cAEF1C,IAAA,CAACH,UAAU,EAAAmC,QAAA,CAAC,YAAU,CAAY,CAAC,cACnChC,IAAA,OAAIkC,SAAS,CAAC,aAAa,CAAAF,QAAA,CACxB7B,UAAU,CAACgC,GAAG,CAAEtB,QAAQ,eACvBb,IAAA,OACEkC,SAAS,CAAC,eAAe,CAEzBS,OAAO,CAAEA,CAAA,GAAM7B,WAAW,CAACD,QAAQ,CAAE,CAAAmB,QAAA,CAEpCnB,QAAQ,EAHJA,QAIH,CACL,CAAC,CACA,CAAC,cAELX,KAAA,aAAA8B,QAAA,eACEhC,IAAA,CAACH,UAAU,EAAC+C,SAAS,CAAC,QAAQ,CAAAZ,QAAA,CAAC,eAAa,CAAY,CAAC,cACzDhC,IAAA,CAACL,MAAM,EACL2C,KAAK,CAAEvB,OAAQ,CACfwB,QAAQ,CAAEA,CAACZ,CAAC,CAAEkB,SAAS,GAAK,CAC1B7B,UAAU,CAAC6B,SAAS,CAAC,CACvB,CAAE,CACF,kBAAgB,mBAAmB,CACnCL,iBAAiB,CAAC,MAAM,CACxBC,GAAG,CAAE,CAAE,CACPC,GAAG,CAAE,CAAE,CACR,CAAC,EACM,CAAC,EACR,CAAC,CACLrB,aAAa,CAAGU,KAAK,eACpB/B,IAAA,QAAKkC,SAAS,CAAC,eAAe,CAAAF,QAAA,cAC5BhC,IAAA,CAACN,UAAU,EACToD,UAAU,CAAErC,WAAY,CACxBsC,iBAAiB,CAAE1B,aAAc,CACjC2B,eAAe,CAAE5B,aAAc,CAC/BmB,QAAQ,CAAEb,gBAAiB,CAC3BuB,YAAY,CAAC,MAAM,CACnBC,YAAY,CAAC,MAAM,CACnBC,aAAa,CAAC,KAAK,CACnBC,YAAY,CAAC,MAAM,CACnBC,SAAS,CAAC,WAAW,CACrBC,SAAS,CAAC,WAAW,CACrBC,WAAW,CAAC,gBAAgB,CAC5BC,eAAe,CAAC,gBAAgB,CACjC,CAAC,CACC,CACN,EACO,CACX,CACO,CAAC,CAEf,CAAC,CAED,cAAe,CAAApD,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module"}